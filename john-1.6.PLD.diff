--- john-1.7/run/john.conf.orig	2005-12-16 16:02:14.000000000 +0100
+++ john-1.7/run/john.conf	2006-01-29 01:06:33.372110776 +0100
@@ -5,7 +5,8 @@
 
 [Options]
 # Wordlist file name, to be used in batch mode
-Wordlist = $JOHN/password.lst
+#Wordlist = $JOHN/password.lst
+Wordlist = /usr/share/dict/words
 # Use idle cycles only
 Idle = N
 # Crash recovery file saving delay in seconds
@@ -323,31 +324,31 @@
 
 # Incremental modes
 [Incremental:All]
-File = $JOHN/all.chr
+File = /usr/lib/john/all.chr
 MinLen = 0
 MaxLen = 8
 CharCount = 95
 
 [Incremental:Alpha]
-File = $JOHN/alpha.chr
+File = /usr/lib/john/alpha.chr
 MinLen = 1
 MaxLen = 8
 CharCount = 26
 
 [Incremental:Digits]
-File = $JOHN/digits.chr
+File = /usr/lib/john/digits.chr
 MinLen = 1
 MaxLen = 8
 CharCount = 10
 
 [Incremental:Alnum]
-File = $JOHN/alnum.chr
+File = /usr/lib/john/alnum.chr
 MinLen = 1
 MaxLen = 8
 CharCount = 36
 
 [Incremental:LanMan]
-File = $JOHN/lanman.chr
+File = /usr/lib/john/lanman.chr
 MinLen = 0
 MaxLen = 7
 CharCount = 69
diff -ruN john-1.6./run/mailer john-1.6/run/mailer
--- john-1.6./run/mailer	1998-12-03 01:29:50.000000000 +0100
+++ john-1.6/run/mailer	2003-07-12 12:06:43.000000000 +0200
@@ -10,10 +10,11 @@
 fi
 
 # There's no need to mail users with these shells
-SHELLS=-,/bin/false,/dev/null,/bin/sync
+SHELLS=-,/bin/false,/dev/null,/bin/sync,/bin/true,/sbin/shutdown
 
 # Look for John in the same directory with this script
-DIR="`echo "$0" | sed 's,/[^/]*$,,'`"
+#DIR="`echo "$0" | sed 's,/[^/]*$,,'`"
+DIR="/usr/bin"
 
 # Let's start
 $DIR/john -show "$1" -shells:$SHELLS | sed -n 's/:.*//p' |
@@ -21,10 +22,23 @@
 	SENT=0
 
 	while read LOGIN; do
-		echo Sending mail to "$LOGIN"...
+		echo Sending mail to / Wysylam maila do "$LOGIN"...
 
 # You'll probably want to edit the message below
-		mail -s 'Bad password' "$LOGIN" << EOF
+		mail -s 'Bad password / Zle haslo' "$LOGIN" << EOF
+--------------------------------------------------------------------------
+[PL]
+
+Witaj!
+
+Twoje has³o dla konta "$LOGIN" nie jest bezpieczne. Proszê zmieñ
+je tak szybko jak to jest mo¿liwe.
+
+Twój,
+	Robot Sprawdzaj±cy Has³a.
+--------------------------------------------------------------------------
+[ENG]
+
 Hello!
 
 Your password for account "$LOGIN" is insecure. Please change it as soon
@@ -32,6 +46,7 @@
 
 Yours,
 	Password Checking Robot.
+--------------------------------------------------------------------------
 EOF
 
 		SENT=$(($SENT+1))
diff -ruN john-1.6./src/Makefile john-1.6/src/Makefile
--- john-1.6./src/Makefile	2003-07-12 12:06:08.000000000 +0200
+++ john-1.6/src/Makefile	2003-07-12 12:06:43.000000000 +0200
@@ -14,7 +14,7 @@
 SED = sed
 NULL = /dev/null
 CPPFLAGS = -E
-CFLAGS = -c -Wall -O2 -fomit-frame-pointer
+CFLAGS = -c -Wall -fomit-frame-pointer $(OPT)
 ASFLAGS = -c
 LDFLAGS = -s
 OPT_NORMAL = -funroll-loops
--- john-1.7/src/params.h.orig	2006-01-09 15:33:18.000000000 +0100
+++ john-1.7/src/params.h	2006-01-29 01:10:31.736873824 +0100
@@ -22,15 +22,15 @@
  * will probably want to set this to 1 for their builds of John.
  */
 #ifndef JOHN_SYSTEMWIDE
-#define JOHN_SYSTEMWIDE			0
+#define JOHN_SYSTEMWIDE			1
 #endif
 
 #if JOHN_SYSTEMWIDE
 #ifndef JOHN_SYSTEMWIDE_EXEC
-#define JOHN_SYSTEMWIDE_EXEC		"/usr/libexec/john"
+#define JOHN_SYSTEMWIDE_EXEC		"/usr/bin/john"
 #endif
 #ifndef JOHN_SYSTEMWIDE_HOME
-#define JOHN_SYSTEMWIDE_HOME		"/usr/share/john"
+#define JOHN_SYSTEMWIDE_HOME		"/usr/lib/john"
 #endif
 #define JOHN_PRIVATE_HOME		"~/.john"
 #endif
@@ -89,7 +89,7 @@
 #endif
 #define LOG_SUFFIX			".log"
 #define RECOVERY_SUFFIX			".rec"
-#define WORDLIST_NAME			"$JOHN/password.lst"
+#define WORDLIST_NAME			"/usr/share/dict/words"
 
 /*
  * Configuration file section names.
